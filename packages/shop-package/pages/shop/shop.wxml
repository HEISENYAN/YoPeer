
<!--pages/shop/shop.wxml-->



<view class = "menu-page">
  <!--È°∂ÈÉ®ËøîÂõûÊåâÈíÆ-->
  <return-button></return-button>

  <div class="head-image-container">
    <view class="text-heading-area1">
      <view class="text-heading1">üç•È±ºÈ•º YoPeer</view>
      <view class="text-heading2">2024FallÊñ∞ÁîüÂõ¢Ë¥≠Ê¥ªÂä®</view>
    </view>
    <view class="text-heading3">Ë¥≠ÂâçÈ°ªÁü•>></view>
    <image style="transform: scale(0.3) scaleX(0.75) translateX(900rpx) translateY(-100rpx); z-index: 10; position: absolute;" src="https://i.postimg.cc/wj0CDs1H/YOPEER-LOGO-NOLET.png" mode=""/>
  </div>

  <!--Â∑¶‰æß‰∏ÄÁ∫ßËèúÂçï-->
  <view class = "menu-content">   
    <view class = "menu-container">
      <scroll-view class = "scroll-view" type = "list" >
        <view class = "scorll-view-list">
          <block wx:for ="{{YPproduct}}" wx:for-item = "item" wx:key = "index">
            <view class="scroll-view-item {{indexSize === index?'active':''}}" bindtap="chooseTypes" data-nowindex="{{index}}">{{item.classification}}</view>
          </block>
        </view>
      </scroll-view>
    </view>
  
  <!--Âè≥‰æß‰∫åÁ∫ßËèúÂçï-->
    <scroll-view scroll-y style="width: 100%; height: 100%; background-color:white;" type="custom" scroll-into-view="{{scrollIntoView}}"  bindscroll ="scrollDetection">
      <sticky-section wx:for="{{YPproduct}}" wx:key = "index" wx:for-item = "item" >
        <sticky-header>
          <view class="header" id = "menuIndex{{index}}">{{item.classification}}</view>
        </sticky-header>
        <list-view class = "item-list">
          <view class="swiper-view-item" wx:for="{{item.items}}" bindtap="chooseSecondMenu" wx:key="prodIndex" wx:for-item="prodItem" data-selected="{{prodItem}}"> 
            <view class="item-container" data-selected="{{prodItem}}">
              <view class="image-container" data-selected="{{prodItem}}">
                <image class="view-item-photo" src = "https://images.pexels.com/photos/2536965/pexels-photo-2536965.jpeg" data-selected="{{prodItem}}" hover-class="this-check"></image>
              </view>
              <view class="text-container" data-selected="{{prodItem}}" hover-class="this-check">
                <view class="view-item-text overflow" data-selected="{{prodItem}}"></view>
                <text style="font-size: 27rpx;" class="product-title" data-selected="{{prodItem}}" >{{prodItem.prodName}}</text>
                <!--<text style="font-size:23rpx;;color:gray;display:block;text-overflow:ellipsis;white-space:pre-line;line-height:40rpx" data-cid="{{prodItem.id}}" data-cname="{{prodItem.name}}">{{prodItem.introduction}}</text> -->
                <text style="font-size:23rpx;font-weight: 200;color:gray;display:block;white-space:pre-line;text-overflow:ellipsis;white-space:pre-line;line-height:30rpx" data-selected="{{prodItem}}">Â∑≤ÂîÆÔºö{{prodItem.soldNum}}</text>
                <view style="font-size:30rpx;color:palevioletred;padding: 0 0 0 0;display:inline-block" data-selected="{{prodItem}}">Ôø•{{prodItem.price}}</view>
            </view>                                                                        
            <view class="number-container" data-selected="{{prodItem}}">
                  <view class = "choose-button" data-selected="{{prodItem}}">ÈÄâËßÑÊ†º</view>
            </view>
            </view>                                                                   
          </view>
        </list-view>
      </sticky-section>
    </scroll-view>
  </view>
    
  <!--Â∫ïÈÉ®Ë¥≠Áâ©ËΩ¶-->
  <view style = "z-index: 2; position:relative">
    <mp-half-screen screenHeight = "50" id = "shoppingCart" style = "z-index:10000" bindtouchend = "moveCart">
      <view slot = "tab" class = "cart-bar" bindtap = "openCart">
        <view class = "cart-icon"> <sky-icon icon-name = "shopping-cart" icon-size = "50"></sky-icon></view>
        <view class = "cart-price">Ôø•{{cartPrice}}</view>
        <view class = "check-out-button" > <view class= "theButton" catchtap = "checkOut">ÂéªÁªìÁÆó</view></view>
      </view>
      <view slot = "tabTitle" class = "cart-tab">
        <view class = "cross-button" catchtap = "closeCart"> <sky-icon icon-name = "x" icon-size = "45" iconColor = "var(--low-chroma-l0)" >   </sky-icon> </view>
        <view class = "clear-button"> <text catchtap = "onClearCart"> Ê∏ÖÈô§</text> </view>
      </view>
      <!--Ë¥≠Áâ©ËΩ¶ÂÜÖËßÜÂõæ-->
      <view slot = "item">
        <view class="swiper-view-item" wx:for="{{ypCart}}" wx:key="ypCartIndex" wx:for-item="cartItem" > 
          <view class="item-container-cart">
            <view class="image-container">
              <image class="view-item-photo" src = "https://images.pexels.com/photos/2536965/pexels-photo-2536965.jpeg" hover-class="this-check"></image>
            </view>
            <view class="text-container" hover-class="this-check">
              <view class="view-item-text overflow"></view>
              <text style="font-size: 27rpx;" class="product-title"  >{{cartItem.prodName}}</text>
              <view style="font-size:30rpx;color:palevioletred;padding: 0 0 0 0;display:inline-block" >Ôø•{{cartItem.price}}</view>
          </view>                                                                        
          <view class="quantity-size-container">
            <text wx:for = "{{cartItem.optionName}}" wx:for-index = "cartOptionIndex" wx:for-item = "cartOptionName" style="font-size:23rpx;font-weight: 200;color:gray;display:block;white-space:pre-line;text-overflow:ellipsis;white-space:pre-line;line-height:30rpx" > {{cartOptionName}}:{{cartItem.selectedItem[cartOptionIndex]}}</text>
            Êï∞Èáè{{cartItem.selectedNum}}
          </view>
          <view class="button-area">
            <view class="add-button-area">
              <view class="add-button">+</view>
            </view>
            <view class="add-button-area">
              <view class="delete-button">-</view>
            </view>
          </view>
          </view>                                                                   
        </view>
        
        <!--ÊÄªÁªìÊù°-->
        <view wx:if = "{{ifMaskOn}}" class = "cart-bar" style = "position: fixed; bottom:0">
          <view class = "cart-icon"> <sky-icon icon-name = "shopping-cart" icon-size = "50"></sky-icon></view>
          <view class = "cart-price">Ôø•{{cartPrice}}</view>
          <view class = "check-out-button" > <view class= "theButton" catchtap = "checkOut">ÂéªÁªìÁÆó</view></view>
        </view>
        <!--Ê∏≤ÊüìË°•ÂÅøÊù°-->
        <view class = "cart-bar">
        </view>
      </view>
    </mp-half-screen>
  </view>

  <!--ËÉåÊôØÂçäÈÄèÊòéÈªëËâ≤ËíôÁâà-->
  <view class = "mask" wx:if="{{ifMaskOn}}" bindtap = "closeCart"></view>  
</view>


